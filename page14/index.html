<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>paperplanes. mathias meyer.</title>
    <meta name="robots" content="index,follow"/>
    <meta name="mssmarttagspreventparsing" content="true"/>
    <link rel="shortcut icon" href="/images/favicon.gif" type="image/gif" />
    <link rel="icon" href="/images/favicon.gif" type="image/gif" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  	<meta name="author" content="Mathias Meyer"/>
    <meta name="dc.title" content="paperplanes. mathias meyer."/>
  	<link rel="start" href="http://www.paperplanes.de" title="paperplanes"/>
    
    <link href="http://www.paperplanes.de/rss.xml" rel="alternate" title="Primary Feed" type="application/rss+xml" />
    <link href="/stylesheets/screen.css" media="screen" rel="Stylesheet" title="paperplanes" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css" media="handheld, only screen and (max-device-width: 960px)" />
  </head>
  
  <body id="www-paperplanes-de">
    <div id="head">
      <div id="header-content">
        <a href="/">
          <img src="/images/paperplane.png" id="paperplane">
        </a>
        <div id="about">
          <h1 class="default">Hi, I'm Mathias Meyer, nice to meet you!</h1>
          <h1 class="mobile">Hi, I'm <a href="https://twitter.com/roidrage">Mathias Meyer</a>, I'm the CEO at <a href="https://travis-ci.com">Travis CI</a></h1>
          <p style="color: white" class="about-sub-title default">
            I'm the CEO at <a href="http://travis-ci.com">Travis CI</a>. I like coffee, <a href="https://twitter.com/roidrage">Twitter</a> and <a href="mailto:meyer@paperplanes.de">email</a>.
          </p>
        </div>
      </div>
    </div>

    <div id="box">
      <div id="content">
        <div id="articles">

  <article>
    <div class="item">
      <div class="item_details">
        <h3><a href="/2014/3/21/on-working-too-hard.html">On Working (Too) Hard</a></h3>
        <h4><a href="/2014/3/21/on-working-too-hard.html" title="On Working (Too) Hard">21 March 2014</a> by <a href="http://twitter.com/roidrage">Mathias Meyer</a></h4>
      </div>
      <div class="item_content">
        <p>There&#39;s a prevailing idea when it comes to startups and building and running
your own business.</p>

<p>The idea that to be successful, you need to work hard, put in long hours, and
push your team to the limit as well.</p>

<p>Keeping up with the competition, trying to make your customers happy, your
investors too, and trying everything you can to turn your business venture into
a success, however that is defined.</p>

<p>Some companies even go as far as advertising it as normal that you can just take
your work everywhere you go, to the park, to your kids&#39; soccer game, maybe even
to the pub?</p>

<p>I&#39;ve fallen into this trap, I&#39;ve been putting in 10-12 hours per day, working
from home, with my family around. The family is understanding, but that doesn&#39;t
justify these kinds of working hours.</p>

<p>As someone working on a product that&#39;s used around the globe and at every hour
of the day, I can relate to this idea. When production is broken, it&#39;s handy to
have something around to respond. When a customer is having troubles, I want to
help them. I&#39;m used to taking my computer with me, even during the weekends.</p>

<p>Adding to that, with customers only coming online when it&#39;s the end of the
business day in Europe, our support usually ramps up in the later hours, where
customers come into our live chat and expect someone to help them with their
problem.</p>

<p>Helping customers succeed is one of the most important purposes of a business,
and we&#39;re trying as best as we can to help them out.</p>

<p>But that thought drove me into a habit that&#39;s hard to break free from. It&#39;s the
fear that there could be a new customer support issue every day, that there
could be a new customer in the live chat that needs help.</p>

<p>This very habit has driven me to being on the computer from the morning to the
evening hours, always waiting for someone to approach us with an issue.</p>

<p>It&#39;s a habit that&#39;s been having a very destructive effect on my work and my
life, and the two are not the same.</p>

<p>A few weeks back, as our team grew more and more, I&#39;ve come to the realization
that working longer hours gives a bad example, not just for myself, but it sets
an implicit expectation that others on the team work just as long. It&#39;s poison
for a team for even one person, in particular a manager, to work longer hours.
It gives the impression that it&#39;s normal and expected to work longer than what
your contract says.</p>

<p>It wears people out, it&#39;s worn me out, on multiple occasions.</p>

<p>We recently started doing support rotation, where everyone gets a dedicated
day of doing customer support, escalating to others on the team where
necessary. That gives the support person the freedom to only focus on
customers for the entire day, and it gives the rest of the team the ability to
focus on getting other work done.</p>

<p>It&#39;s been effective for us, and it&#39;s already improved our own tooling, our
user interface and our documentation.</p>

<p>But I still can&#39;t shake the habit of always wanting to help. You can say that
it&#39;s a noble habit to have, but its downsides are starting to show.</p>

<p>There&#39;s a quote from <a href="http://amzn.to/1hOnAXC">Small Giants</a> that stuck with me:</p>

<blockquote>
<p>For all the extraordinary service and enlightened hospitality that the small
giants offer, what really sets them apart is their belief that the customer
comes second.</p>
</blockquote>

<p>A company&#39;s team is what sets it apart. That team needs to be well rested to
make for happy customer.</p>

<p>The only way to get them to do that is to discourage long working hours.</p>

<p>In our company, that starts with me.</p>

<p>Success doesn&#39;t depend on how much you work, it depends on where you focus your
time in the best way possible.</p>

<p>Don&#39;t work too hard. </p>

      </div>
      <div class="item_meta">
        <span class="item_tags">
          Tags: 
          
        </span>
      </div>
    </div>
  </article>

  <article>
    <div class="item">
      <div class="item_details">
        <h3><a href="/2014/2/26/building-an-infrastructure-service.html">Building an Infrastructure Service on Top of Infrastructure Services</a></h3>
        <h4><a href="/2014/2/26/building-an-infrastructure-service.html" title="Building an Infrastructure Service on Top of Infrastructure Services">26 February 2014</a> by <a href="http://twitter.com/roidrage">Mathias Meyer</a></h4>
      </div>
      <div class="item_content">
        <p>For the last two years, I&#39;ve been working on <a href="https://travis-ci.com">Travis CI</a>,
a hosted continuous integration and deployment platform. It first started out as
a <a href="https://travis-ci.org">free service for open source projects</a> on GitHub, but
has since then evolved into a <a href="https://travis-ci.com">hosted product for private
projects</a> as well.</p>

<p>The fascinating bit for me was, right from the start, that the entire platform,
inarguably an infrastructure product, is built and runs on top of other
infrastructure products.</p>

<p>Travis CI, for the most part, runs on infrastructure managed and operated by
other people.</p>

<p>Most of the code runs on Heroku, our RabbitMQ is hosted by
<a href="http://www.cloudamqp.com">CloudAMQP</a>, our database is run by <a href="https://postgres.heroku.com">Heroku
Postgres</a>, our build servers are managed by <a href="http://bluebox.net">Blue
Box</a>, our logs go into
<a href="https://papertrailapp.com">Papertrail</a>, our metrics to
<a href="https://www.librato.com">Librato</a>, our alerts come from
<a href="http://www.opsgenie.com">OpsGenie</a>, our status page is hosted on
<a href="http://statuspage.io">StatusPage.io</a>, even our Chef server, the one bit that we
use to customize some of our servers, <a href="http://getchef.com">is hosted</a>.</p>

<p>In a recent <a href="http://www.youtube.com/watch?v=EU-D-8EBbCM">Hangops</a>, we talked
about buying vs. building infrastructure. I thought it&#39;s well worth elaborating
more on these things, why we went on to build Travis CI on top of other
infrastructure products rather than build and automate these things ourselves.</p>

<h3>Operation Expenses vs. Time Spent Building</h3>

<p>The most obvious reason why you&#39;d want to buy rather than build is to <strong>save
time</strong>.</p>

<p>In a young company trying to build out a product, anything that saves you time
but adds value is worth paying for.</p>

<p>You can build anything, if you have the time to do it.</p>

<p>This is an important trade-off. You&#39;re spending money, possibly on a monthly
basis to use a service rather than spend the time building it yourself.</p>

<p>A status page is a classic example. Surely it should be doable to build it
myself in just a few days, yes?</p>

<p>But then, to be really useful, your custom status page needs an API, for easy
interaction with your Hubot. Maybe you also want a way to integrate metrics from
external sources, and you want it to include things like scheduled maintenances.</p>

<p>On top of that, (hopefully) a pretty user interface.</p>

<p>That&#39;s the better of two weeks, if not more than that. On top of that, you need
to run it in production too. It&#39;s one more distraction from running your core
product.</p>

<p>Other people may be able to do this a lot better than you. They help you free up
time to work on things that are relevant to your products and your customers.</p>

<p>In return, you pay a monthly fee.</p>

<p>Surely, you say, building it yourself is practically free compared to a monthly
fee, isn&#39;t it?</p>

<p><strong>Your time is very valuable</strong>. It&#39;s more valuable spent on your own product
rather than build other things around it.</p>

<p>The problem with time spent building things is that you can&#39;t put a number on
it. You&#39;re basically comparing a monthly fee to what looks like a big fat zero.
Because heck, you built it yourself, it didn&#39;t cost anything.</p>

<p>This is the classic tradeoff of using paid services. You could very well build
it yourself, but you could also spend your time on other things. You could also
use and run an open source solution, but that too needs to be maintained,
operated and upgraded.</p>

<p>If this sounds one-sided, that&#39;s unintentional. I have a history of building
things myself, racking my own servers, provisiong them myself.</p>

<p>But there are things to keep in mind when it comes to spending time building
things. There&#39;s a non-zero cost attached to this, it&#39;s just not visible as the
monthly invoice you&#39;re getting from a service. That cost is hard to fathom as
it&#39;s hard to put a numeric value on the time spent building it.</p>

<p>When you have the resources and can afford to, it makes sense to start pulling
things in-house.</p>

<p>For us, not having to take care of a big chunk of our infrastructure ourselves
is a big benefit, allowing us to focus on the more relevant bits.</p>

<p>But letting other folks run core parts of your infrastructure doesn&#39;t come
without risks either.</p>

<h3>Risks of Downtime and Maintenance</h3>

<p>When you buy into the idea of someone else maintaining more or less vital parts
of your infrastructure, there&#39;s a risk involved.</p>

<p><strong>You&#39;re bound to any problems they might have</strong> with their infrastructure, with
their code. In multi-tenant systems, any operational issues tend to ripple
through the system and affect several customers rather than just one.</p>

<p>You&#39;re also bound to their maintenance schedules. Amazon&#39;s RDS service, for this
particular scenario, allows you to specify a maintenance window through their
API for your database instances.</p>

<p>The full risk of how this affects your own application is hard, if not
impossible, to calculate.</p>

<p>A part of your infrastructure could go down at any time, and it&#39;s mostly out of
your hands to respond to it. What you can and should do, is harden your code to
work around them, if at all possible.</p>

<p>One question to ask is how vital this particular piece of infrastructure is to
your application and therefore, your business.</p>

<p>If it&#39;s in the critical path, if it affects your application significantly when
it goes down, there are options. Not all multi-tenant systems are automatically
multi-tenant. Some offer the ability to have dedicated but managed setups. Some
even offer high availability capabilities to reduce the impact of single nodes
going down.</p>

<p>Both our PostgreSQL database and our RabbitMQ setup are critical parts of Travis
CI. Without the database, we can&#39;t store or read any data. Without our message
queue, we can&#39;t push build logs and build jobs through the system, effectively
leaving the system unable to run any tests for our customers.</p>

<p>We started out on multi-tenant setups for both. On our PostgreSQL database, the
load was eventually way too high for the small size of the database setup.</p>

<p>For our RabbitMQ, we were easily impacted by other clients in the system.
RabbitMQ in particular can be gnarly to work with when lots of clients share the
same cluster. On client producing an unusual amount of messages can grind
everyone else in the system to a grinding halt.</p>

<p>Eventually, we ran both parts on dedicated infrastructure, but still fully
managed. There&#39;s still a chance of things going down, of course. But the impact
is less than if an entire multi-tenant cluster goes down.</p>

<p>Putting parts that were in the critical path on dedicated infrastructure has
been working well for us. The costs certainly went up, but we just couldn&#39;t
continue telling excuses on why Travis CI was down.</p>

<p>When it comes to buying into other people running your infrastructure, <strong>don&#39;t
be afraid to ask how they manage it</strong>. Do they have a status page that is
actively used? How do they handle downtimes?</p>

<p><strong>Operational openness is important when other people manage parts of your
infrastructure.</strong></p>

<p>It&#39;s inevitable that something bad will happen in their infrastructure that
affects you. How they deal with these scenarios is what&#39;s relevant.</p>

<h3>Security and Privacy</h3>

<p>With multi-tenant infrastructure, you&#39;re confronted with curious challenges, and
they can affect you in ways that only studying your local laws and the
provider&#39;s terms of service will fully reveal.</p>

<p>Security and privacy are two big issues you need to think about when entrusting
your data to a third party. The <a href="http://security.mongohq.com/notice#security-breach">recent MongoHQ security
incident</a> has brought up
this issue in an unprecendented way, and we&#39;ve had our own <a href="http://blog.travis-ci.com/2013-01-31-post-mortem-build-outage/">issues with security
in the past</a>.</p>

<p>Note that these issues could come up just the same when you&#39;re running your own
infrastructure. But just like outages, security and privacy breaches can have
much wider ranging ripple effects on multi-tenant infrastructure.</p>

<p>How can you best handle this? Encrypting your data is one way to approach the
situation. Encrypt anything that&#39;s confidential, that you want to protect with
at least one small extra layer of security to reduce the attack surface on it.</p>

<p>We encrypt SSH keys and OAuth tokens, the most private data that&#39;s entrusted to
our systems. Of course, the keys aren&#39;t stored in the database.</p>

<p>When buying infrastructure rather than building it, keep a good eye on what your
providers do and how they handle security and your data. This is just as
important as handling outages, if not even more so.</p>

<p>Make sure that your privacy/security statements reflect which services you&#39;re
using and how you handle your customers&#39; data with them. It may not sound like
much, but <strong>transparency goes a long way.</strong></p>

<p>One unfortunate downside of infrastructure services, Heroku add-ons come to
mind, is the lack of fine-grained access privileges. Only some of the addons we
use allow us to create separate user accounts with separate permissions.</p>

<p>It&#39;s one of the downsides of the convenience of just having a URL added to your
application&#39;s environment and start using an add-on.</p>

<p>Judging the impact of the trade-off is, again, up to you. Sometimes convenience
trumps security, but other times (most times?), security is more important than
convenience.</p>

<p><strong>Your users&#39; data is important to your users, so it should be just as important
to you.</strong></p>

<h3>Scaling up and out</h3>

<p>We started out small, with just a few Heroku dynos and a small database setup, a
shared RabbitMQ setup to boot.</p>

<p>In fact, initially Travis CI ran on just one dyno, then two, then just a few
more when a second application was split out.</p>

<p>This worked up to a few thousand tests per day. But as we scaled up, that wasn&#39;t
sufficient.</p>

<p>I was sceptical at first whether we can scale up while remaining on managed
infrastructure rather than build our own. Almost two years later, it&#39;s still
working quite well.</p>

<p>Important bits have been moved to dedicated setups, the databases (we have four
clusters, eight database servers in total) and our RabbitMQ service, which we
<a href="http://blog.travis-ci.com/2013-08-08-solving-the-puzzle-of-scalable-log-processing/">needed to move to a cluster
setup</a>.</p>

<p>Most hosted services give you means to scale up. For Heroku apps, you add more
dynos, or you <a href="https://devcenter.heroku.com/articles/dyno-size">increase the capacity of a single
dyno</a>.</p>

<p>For their databases (or Amazon RDS, for that matter), upgrade the underlying
server, simple enough to do. For RabbitMQ, go for a bigger plan that gives more
dedicated resources, higher throughput, and the like.</p>

<p>Figuring out the limits of hosted infrastructure services is hard. If you send a
log service, even by mistake, thousands of messages per second, how do they
respond? Can they handle it?</p>

<p>Only one way to find out, ask them!</p>

<p>With most of the bits that we need to scale out, we&#39;re confident that hosted
services will give us the means to do so for quite some time. After that, we can
still talk to them and figure out what we can do beyond their normal offerings.</p>

<p>Scaling up is a challenge, as <a href="https://twitter.com/josephruscio">Joe Ruscio</a> put
it on the aforementioned hangops episode: <strong>&quot;Scaling is always violent.&quot;</strong></p>

<p>It was violent on occasion for us as well.</p>

<p>We may need more dedicated bits in the future for specialized use, things like
ZooKeeper for distributed consensus. But most of our tools are still running
nicely on hosted infrastructure.</p>

<h3>Operational insight</h3>

<p>One thing that&#39;s been bugging me about a few of our core services originally was
the lack of operational insight.</p>

<p>With infrastructure beyond your control, getting insight into what&#39;s happening
can be challenging.</p>

<p>We had to ask Heroku support quite a few times for insight into our database
host machine. For figuring out whether or not an upgrade to a larger plan or
instance is required, this can be essential. It certainly was for us. This
situation has been improving and it will be even more in the future from what
I&#39;ve heard.</p>

<p>But for an infrastructure provider, offering this kind of insight can also be
challenging. Heroku&#39;s Postgres has improved quite a lot, and we get better
insight into what&#39;s happening in our database now thanks to
<a href="https://github.com/will/datascope">datascope</a> and their means of <a href="https://devcenter.heroku.com/articles/heroku-postgres-metrics-logs">dumping
metrics into the
logs</a>, which
you can then aggregate with a service like <a href="https://librato.com">Librato</a>.</p>

<p>Most providers have great people working for them. When in doubt, ask them about
anything that&#39;s on your mind. The services we work with are usually very helpful
and insightful. The Heroku Postgres team is a knowledge goldmine in itself.</p>

      </div>
      <div class="item_meta">
        <span class="item_tags">
          Tags: 
          
        </span>
      </div>
    </div>
  </article>

  <article>
    <div class="item">
      <div class="item_details">
        <h3><a href="/2014/2/18/why-you-should-charge-for-your-beta-product.html">Why You Should Charge For Your Beta Product</a></h3>
        <h4><a href="/2014/2/18/why-you-should-charge-for-your-beta-product.html" title="Why You Should Charge For Your Beta Product">18 February 2014</a> by <a href="http://twitter.com/roidrage">Mathias Meyer</a></h4>
      </div>
      <div class="item_content">
        <p>There&#39;s a curious assumption out there, and it&#39;s time to put that assumption to
rest for good.</p>

<p>It&#39;s the assumption that <strong>things should be free while they&#39;re in beta.</strong></p>

<p>That assumption is made on both ends, your customers think it should be free,
and you think your product should be free too.</p>

<p>It&#39;s bollocks. <strong>You&#39;re hurting your business by following down this path</strong>,
and, while they have good intentions, so are your customers.</p>

<p><strong>Free customers don&#39;t validate a business</strong>, they don&#39;t validate a product.
Only when customers are willing to open their wallet for your product will you
start to have validation that you might be on to something.</p>

<p>Offering a product for free while it&#39;s in beta implies the assumption that the
product doesn&#39;t provide any value while it&#39;s in beta. If your product doesn&#39;t
provide any value while it&#39;s in beta, stop what you&#39;re working on right now.</p>

<p>You think your product doesn&#39;t provide any value while it&#39;s in beta, and neither
do your customers. At least that&#39;s how the assumption goes.</p>

<p>Are you sure that you&#39;ve verified that there&#39;s a market, an audience, for your
product that needs this problem solved? Is there more research you can do? Could
you talk to one of the folks trying out your product?</p>

<p>If you can be sure that your product provides value, and this is why serving
businesses is a much better idea than serving consumers, why are you not
charging for it?</p>

<p>Does the label beta keep you from charging money? Remove it.</p>

<p>The sooner you start charging, the sooner two things will happen:</p>

<ul>
<li><strong>You know that your product has value</strong> to the customers that are willing to
pay you for it.</li>
<li>Your business has a much higher likelihood of succeeding. <strong>Early validation
gives you confidence that it&#39;s worth continuing with the product.</strong></li>
</ul>

<p>When we started out with our product version of <a href="https://travis-ci.com">Travis
CI</a>, we took a few months to develop what we considered
to be the minimum features we could ship and throw at potential customers.</p>

<p>We launched our initial private beta in July 2012. We started charging in
September 2012. But, and this is where we could&#39;ve done better, we didn&#39;t
enforce charging. If people didn&#39;t want to sign up, they could continue using
the product for free.</p>

<p>Meanwhile, we manually emailed dozens of customers, asking them to sign up for a
subscription and for feedback at the same time. This was a long process, and I
wish we&#39;d have automated sooner.</p>

<p>But it gave us a chance to see what people liked, what they didn&#39;t like. At the
end of the manual process we had 100 paying customers. More than enough to
validate that we were on to something.</p>

<p>A beta product doesn&#39;t make a product, let alone a business, yet.</p>

<p>But <strong>when you start charging early, and you find customers paying for it, you
have a tiny validation that it&#39;s valuable</strong> to some. That can be a much more
powerful realization and boost than trying to crank out new features to make
free users happy.</p>

<p><strong>The best way to validate a product is to get a customer to pay for it</strong>, then
10 customers, 100 customers.</p>

      </div>
      <div class="item_meta">
        <span class="item_tags">
          Tags: 
          
        </span>
      </div>
    </div>
  </article>

</div>

<div class="pagination">
  
    
      <a href="/page13" class="previous">Newer Posts</a>
    
  
  
    <a href="/page15" class="next">Older Posts</a>
  
</div>

       
        <div id="footer">
          <div id="footer_text">
            <a href="/archives.html">Archives</a>, <a href="http://www.paperplanes.de/rss.xml" title="Full-text RSS feed">RSS Feed</a>, &copy; 2007-2014 Mathias Meyer <a href="/imprint.html">Imprint</a>
          </div>
        </div>
      </div>
    </div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46305173-1', 'paperplanes.de');
      ga('send', 'pageview');

    </script>
  </body>
  <script src="//my.hellobar.com/7db1d1ae6111ae95568efbbf8e6a1ee953ad854f.js" type="text/javascript" charset="utf-8" async="async"></script>
</html>
